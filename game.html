<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‰Ω†ÁîªÊàëÁåú</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .game-area {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .left-panel {
            flex: 2;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
        }
        
        .right-panel {
            flex: 1;
            min-width: 250px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .game-info {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            margin-bottom: 15px;
        }
        
        .word-display {
            font-size: 1.8rem;
            letter-spacing: 5px;
            margin: 10px 0;
            font-weight: bold;
            color: #2a5298;
            min-height: 50px;
        }
        
        .timer {
            font-size: 1.2rem;
            margin-top: 10px;
            color: #ff4757;
            font-weight: bold;
        }
        
        .canvas-container {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 15px;
            position: relative;
        }
        
        #drawing-canvas {
            display: block;
            background: white;
            cursor: crosshair;
            width: 100%;
            height: 400px;
        }
        
        /* Á¥ßÂáëÁöÑÈÄâËØçÈù¢Êùø */
        .word-panel {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 10;
            width: 180px;
            font-size: 0.85rem;
            border: 2px solid #2a5298;
            display: none;
        }
        
        .word-panel h3 {
            margin-bottom: 8px;
            color: #2a5298;
            font-size: 1rem;
        }
        
        .word-choices-compact {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .word-choice-compact {
            padding: 8px 5px;
            background: #e3f2fd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            font-size: 0.8rem;
        }
        
        .word-choice-compact:hover {
            background: #bbdefb;
            transform: scale(1.03);
        }
        
        .tools {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        .tool-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 10px;
            flex: 1;
            min-width: 120px;
        }
        
        .tool-section h3 {
            margin-bottom: 8px;
            font-size: 0.9rem;
            color: #495057;
        }
        
        .color-picker {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }
        
        .color {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: transform 0.2s;
        }
        
        .color:hover {
            transform: scale(1.1);
        }
        
        .color.active {
            border: 2px solid #333;
            transform: scale(1.1);
        }
        
        .size-picker {
            display: flex;
            gap: 5px;
            align-items: center;
        }
        
        .size-btn {
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #e9ecef;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.7rem;
        }
        
        .size-btn.active {
            background: #2a5298;
            color: white;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        button {
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            background: #2a5298;
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
            flex: 1;
        }
        
        button:hover {
            background: #1e3c72;
            transform: translateY(-2px);
        }
        
        button:disabled {
            background: #adb5bd;
            cursor: not-allowed;
            transform: none;
        }
        
        .game-status {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .game-status h3 {
            margin-bottom: 15px;
            color: #495057;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        
        .status-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 8px;
        }
        
        .controls-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .controls-container h3 {
            margin-bottom: 15px;
            color: #495057;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
        }
        
        @media (max-width: 768px) {
            .game-area {
                flex-direction: column;
            }
            
            .word-panel {
                position: relative;
                top: auto;
                right: auto;
                width: 100%;
                margin-top: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéì ‰Ω†ÁîªÊàëÁåú üé®</h1>
            
        </div>
        
        <div class="game-area">
            <div class="left-panel">
                <div class="game-info">
                    <div id="game-status">ÁÇπÂáª"ÂºÄÂßãÊ∏∏Êàè"ÈÄâÊã©ËØçËØ≠</div>
                    <div id="word-display" class="word-display">_ _ _ _</div>
                    <div id="timer" class="timer">60Áßí</div>
                </div>
                
                <div class="canvas-container">
                    <canvas id="drawing-canvas"></canvas>
                    <!-- Á¥ßÂáëÁöÑÈÄâËØçÈù¢Êùø -->
                    <div class="word-panel" id="word-panel">
                        <h3>ÈÄâÊã©ËØçËØ≠</h3>
                        <div class="word-choices-compact" id="word-choices-compact">
                            <!-- ËØçËØ≠ÈÄâÈ°πÂ∞ÜÂä®ÊÄÅÁîüÊàê -->
                        </div>
                    </div>
                </div>
                
                <div class="tools">
                    <div class="tool-section">
                        <h3>ÁîªÁ¨îÈ¢úËâ≤</h3>
                        <div class="color-picker">
                            <div class="color active" style="background-color: black;" data-color="black"></div>
                            <div class="color" style="background-color: red;" data-color="red"></div>
                            <div class="color" style="background-color: green;" data-color="green"></div>
                            <div class="color" style="background-color: blue;" data-color="blue"></div>
                            <div class="color" style="background-color: orange;" data-color="orange"></div>
                            <div class="color" style="background-color: purple;" data-color="purple"></div>
                        </div>
                    </div>
                    
                    <div class="tool-section">
                        <h3>ÁîªÁ¨îÂ§ßÂ∞è</h3>
                        <div class="size-picker">
                            <div class="size-btn active" data-size="2">ÁªÜ</div>
                            <div class="size-btn" data-size="5">‰∏≠</div>
                            <div class="size-btn" data-size="10">Á≤ó</div>
                        </div>
                    </div>
                    
                    <div class="tool-section">
                        <h3>ÁîªÂ∏ÉÊìç‰Ωú</h3>
                        <div class="action-buttons">
                            <button id="clear-btn">Ê∏ÖÁ©∫ÁîªÂ∏É</button>
                            <button id="eraser-btn">Ê©°ÁöÆÊì¶</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="right-panel">
                <div class="game-status">
                    <h3>Ê∏∏ÊàèÁä∂ÊÄÅ</h3>
                    <div class="status-item">
                        <span>ÂΩìÂâçÂõûÂêà:</span>
                        <span id="round-counter">1</span>
                    </div>
                    <div class="status-item">
                        <span>Â∑≤ÁåúËØçËØ≠:</span>
                        <span id="guessed-words">0</span>
                    </div>
                    <div class="status-item">
                        <span>ÊúÄ‰Ω≥Êó∂Èó¥:</span>
                        <span id="best-time">--</span>
                    </div>
                </div>
                
                <div class="controls-container">
                    <h3>Ê∏∏ÊàèÊéßÂà∂</h3>
                    <div class="action-buttons">
                        <button id="start-game-btn">ÂºÄÂßãÊ∏∏Êàè</button>
                        <button id="reset-game-btn">ÈáçÊñ∞ÂºÄÂßã</button>
                    </div>
                    <div style="margin-top: 15px;">
                        <button id="show-answer-btn">ÊòæÁ§∫Á≠îÊ°à</button>
                        <button id="next-word-btn" style="margin-top: 10px; display: none;">‰∏ã‰∏Ä‰∏™ËØçËØ≠</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ê∏∏ÊàèÂ∏∏Èáè‰∏éÂèòÈáè
        const GAME_STATES = {
            WAITING: 'waiting',
            CHOOSING: 'choosing',
            DRAWING: 'drawing',
            ROUND_END: 'roundEnd'
        };
        
        const ROUND_TIME = 60;
        
        // Ê∏∏ÊàèÂèòÈáè
        let canvas, ctx;
        let isDrawing = false;
        let currentColor = 'black';
        let currentSize = 2;
        let currentX = 0;
        let currentY = 0;
        let gameState = GAME_STATES.WAITING;
        let currentWord = '';
        let timeLeft = ROUND_TIME;
        let timerInterval = null;
        let roundCounter = 1;
        let guessedWords = 0;
        let bestTime = null;
        
        // È´ò‰∏≠ÁâàËØçÂ∫ìÔºàÂåÖÂê´Â≠¶ÁßëÁü•ËØÜ„ÄÅÊàêËØ≠Á≠âÔºâ[1,2,6](@ref)
        const wordList = [
            // ÊàêËØ≠ÂÖ∏ÊïÖ
            'ÁîªËõáÊ∑ªË∂≥', 'Êé©ËÄ≥ÁõóÈìÉ', 'ÂÆàÊ†™ÂæÖÂÖî', '‰∫°ÁæäË°•Áâ¢', 'ÂØπÁâõÂºπÁê¥', 'ÁãêÂÅáËôéÂ®Å',
            'ÊúõÊ¢ÖÊ≠¢Ê∏¥', 'Á†¥ÈáúÊ≤âËàü', 'ÂçßËñ™Â∞ùËÉÜ', 'ÊåáÈπø‰∏∫È©¨', 'ËÉ∏ÊúâÊàêÁ´π', 'Ê∞¥Êª¥Áü≥Á©ø',
            'ÊÇ¨Ê¢ÅÂà∫ËÇ°', 'ÂáøÂ£ÅÂÅ∑ÂÖâ', 'ÈóªÈ∏°Ëµ∑Ëàû', 'Á∫∏‰∏äË∞àÂÖµ', '‰∏âÈ°æËåÖÂ∫ê', 'ÂõõÈù¢Ê•öÊ≠å',
            
            // Êñ∞Â¢ûÊàêËØ≠Ôºà50‰∏™Ôºâ
            'ÁîªÈæôÁÇπÁùõ', 'ÊùØÂºìËõáÂΩ±', 'Êùû‰∫∫ÂøßÂ§©', '‰∫ïÂ∫ï‰πãËõô', 'Âè∂ÂÖ¨Â•ΩÈæô', 'ÈÇØÈÉ∏Â≠¶Ê≠•',
            '‰∏úÊñΩÊïàÈ¢¶', 'Áè≠Èó®ÂºÑÊñß', 'ÂàªËàüÊ±ÇÂâë', 'Ëá™Áõ∏ÁüõÁõæ', 'Êª•Á´ΩÂÖÖÊï∞', '‰π∞Ê§üËøòÁè†',
            'ÈÉë‰∫∫‰π∞Â±•', 'Èπ¨ËöåÁõ∏‰∫â', 'Â∫ñ‰∏ÅËß£Áâõ', 'ÊÑöÂÖ¨ÁßªÂ±±', 'Â§∏Áà∂ÈÄêÊó•', 'Á≤æÂç´Â°´Êµ∑',
            'ÂÆåÁíßÂΩíËµµ', 'Ë¥üËçÜËØ∑ÁΩ™', 'ËçâÊú®ÁöÜÂÖµ', '‰∏úÂ±±ÂÜçËµ∑', '‰πê‰∏çÊÄùËúÄ', 'Â§úÈÉéËá™Â§ß',
            'ËØ∑ÂêõÂÖ•ÁìÆ', 'Ê±üÈÉéÊâçÂ∞Ω', 'ÈìÅÊùµÁ£®Èíà', 'ÁÜüËÉΩÁîüÂ∑ß', 'Á®ãÈó®Á´ãÈõ™', 'Â≠üÊØç‰∏âËøÅ',
            'ÊØõÈÅÇËá™Ëçê', 'ÈÄÄÈÅø‰∏âËàç', 'ËÄÅÈ©¨ËØÜÈÄî', 'Áß¶Êôã‰πãÂ•Ω', 'Êúù‰∏âÊöÆÂõõ', 'È´òÂ±±ÊµÅÊ∞¥',
            'Èó®Â∫≠Ëã•Â∏Ç', 'ÈπèÁ®ã‰∏áÈáå', 'Èùí‰∫ëÁõ¥‰∏ä', '‰πòÈ£éÁ†¥Êµ™', '‰∏ÄÈºì‰ΩúÊ∞î', '‰∏ÄÈ∏£ÊÉä‰∫∫',
            '‰∏ÄÁÆ≠ÂèåÈõï', '‰∏ÄÁü≥‰∫åÈ∏ü', '‰∏ÄËØ∫ÂçÉÈáë', '‰∏ÄÂ≠óÂçÉÈáë', 'ÂÖ•Êú®‰∏âÂàÜ', 'Âè£Ëã•ÊÇ¨Ê≤≥',
            'ÊâçÈ´òÂÖ´Êñó', 'Â≠¶ÂØå‰∫îËΩ¶'
        ];
        
        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            initializeUI();
            setupEventListeners();
        });
        
        // ÂàùÂßãÂåñUIÂÖÉÁ¥†
        function initializeUI() {
            canvas = document.getElementById('drawing-canvas');
            ctx = canvas.getContext('2d');
            
            // ËÆæÁΩÆCanvasÁöÑÂÆûÈôÖÂ∞∫ÂØ∏
            const container = canvas.parentElement;
            canvas.width = container.clientWidth;
            canvas.height = 400;
            
            // ËÆæÁΩÆÁ∫øÊù°Ê†∑Âºè
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            
            // Ê∏ÖÁ©∫ÁîªÂ∏É
            clearCanvas();
        }
        
        // ËÆæÁΩÆ‰∫ã‰ª∂ÁõëÂê¨Âô®
        function setupEventListeners() {
            // ÁªòÁîªÁõ∏ÂÖ≥‰∫ã‰ª∂
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            // Ëß¶Êë∏ËÆæÂ§áÊîØÊåÅ
            canvas.addEventListener('touchstart', handleTouchStart);
            canvas.addEventListener('touchmove', handleTouchMove);
            canvas.addEventListener('touchend', handleTouchEnd);
            
            // È¢úËâ≤ÈÄâÊã©Âô®‰∫ã‰ª∂
            document.querySelectorAll('.color').forEach(colorEl => {
                colorEl.addEventListener('click', function() {
                    document.querySelectorAll('.color').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    currentColor = this.getAttribute('data-color');
                    // ÈÄâÊã©È¢úËâ≤ÂêéÈÄÄÂá∫Ê©°ÁöÆÊì¶Ê®°Âºè
                    document.getElementById('eraser-btn').textContent = 'Ê©°ÁöÆÊì¶';
                });
            });
            
            // ÁîªÁ¨îÂ§ßÂ∞èÈÄâÊã©‰∫ã‰ª∂
            document.querySelectorAll('.size-btn').forEach(sizeEl => {
                sizeEl.addEventListener('click', function() {
                    document.querySelectorAll('.size-btn').forEach(s => s.classList.remove('active'));
                    this.classList.add('active');
                    currentSize = parseInt(this.getAttribute('data-size'));
                });
            });
            
            // ÊåâÈíÆ‰∫ã‰ª∂
            document.getElementById('clear-btn').addEventListener('click', clearCanvas);
            document.getElementById('eraser-btn').addEventListener('click', toggleEraser);
            document.getElementById('start-game-btn').addEventListener('click', startGame);
            document.getElementById('reset-game-btn').addEventListener('click', resetGame);
            document.getElementById('show-answer-btn').addEventListener('click', showAnswer);
            document.getElementById('next-word-btn').addEventListener('click', nextWord);
        }
        
        // ÁªòÁîªÂäüËÉΩ
        function startDrawing(e) {
            if (gameState !== GAME_STATES.DRAWING) return;
            
            isDrawing = true;
            const pos = getMousePos(canvas, e);
            [currentX, currentY] = [pos.x, pos.y];
            
            ctx.beginPath();
            ctx.moveTo(currentX, currentY);
        }
        
        function draw(e) {
            if (!isDrawing || gameState !== GAME_STATES.DRAWING) return;
            
            const pos = getMousePos(canvas, e);
            ctx.lineTo(pos.x, pos.y);
            ctx.strokeStyle = currentColor;
            ctx.lineWidth = currentSize;
            ctx.stroke();
        }
        
        function stopDrawing() {
            if (!isDrawing) return;
            isDrawing = false;
            ctx.closePath();
        }
        
        // Ëß¶Êë∏‰∫ã‰ª∂Â§ÑÁêÜ
        function handleTouchStart(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent('mousedown', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            canvas.dispatchEvent(mouseEvent);
        }
        
        function handleTouchMove(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent('mousemove', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            canvas.dispatchEvent(mouseEvent);
        }
        
        function handleTouchEnd(e) {
            e.preventDefault();
            const mouseEvent = new MouseEvent('mouseup', {});
            canvas.dispatchEvent(mouseEvent);
        }
        
        // Ëé∑ÂèñÈº†Ê†á‰ΩçÁΩÆ
        function getMousePos(canvas, evt) {
            const rect = canvas.getBoundingClientRect();
            let clientX, clientY;
            
            if (evt.type.includes('touch')) {
                clientX = evt.touches[0].clientX;
                clientY = evt.touches[0].clientY;
            } else {
                clientX = evt.clientX;
                clientY = evt.clientY;
            }
            
            return {
                x: clientX - rect.left,
                y: clientY - rect.top
            };
        }
        
        // ÁîªÂ∏ÉÊìç‰Ωú
        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
        
        function toggleEraser() {
            const eraserBtn = document.getElementById('eraser-btn');
            if (currentColor !== 'white') {
                // ËøõÂÖ•Ê©°ÁöÆÊì¶Ê®°Âºè
                currentColor = 'white';
                eraserBtn.textContent = 'ÁîªÁ¨î';
            } else {
                // ÈÄÄÂá∫Ê©°ÁöÆÊì¶Ê®°ÂºèÔºåÊÅ¢Â§çÈªëËâ≤
                currentColor = 'black';
                document.querySelector('.color[data-color="black"]').classList.add('active');
                eraserBtn.textContent = 'Ê©°ÁöÆÊì¶';
            }
        }
        
        // Ê∏∏ÊàèÈÄªËæë
        function startGame() {
            if (gameState === GAME_STATES.DRAWING) return;
            
            // ÈáçÁΩÆÊ∏∏ÊàèÁä∂ÊÄÅ
            resetGame();
            
            // ÊòæÁ§∫ÈÄâËØçÈù¢Êùø
            showWordChoices();
        }
        
        function showWordChoices() {
            const wordPanel = document.getElementById('word-panel');
            const wordChoicesContainer = document.getElementById('word-choices-compact');
            
            // Ê∏ÖÁ©∫‰πãÂâçÁöÑÈÄâÈ°π
            wordChoicesContainer.innerHTML = '';
            
            // ÈöèÊú∫ÈÄâÊã©3‰∏™ËØçËØ≠
            const shuffledWords = [...wordList].sort(() => 0.5 - Math.random());
            const selectedWords = shuffledWords.slice(0, 3);
            
            // ÂàõÂª∫ËØçËØ≠ÈÄâÈ°π
            selectedWords.forEach(word => {
                const wordChoice = document.createElement('div');
                wordChoice.className = 'word-choice-compact';
                wordChoice.textContent = word;
                wordChoice.addEventListener('click', function() {
                    selectWord(word);
                    wordPanel.style.display = 'none';
                });
                wordChoicesContainer.appendChild(wordChoice);
            });
            
            wordPanel.style.display = 'block';
            gameState = GAME_STATES.CHOOSING;
            document.getElementById('game-status').textContent = 'ËØ∑ÈÄâÊã©Ë¶ÅÁîªÁöÑËØçËØ≠';
        }
        
        function selectWord(word) {
            currentWord = word;
            gameState = GAME_STATES.DRAWING;
            
            // Êõ¥Êñ∞Ê∏∏ÊàèÁä∂ÊÄÅÊòæÁ§∫
            document.getElementById('game-status').textContent = 'Ê≠£Âú®ÁªòÁîª‰∏≠...';
            document.getElementById('word-display').textContent = '_ '.repeat(word.length);
            
            // ÂºÄÂßãÂÄíËÆ°Êó∂
            startTimer();
            
            // ÊòæÁ§∫‰∏ã‰∏Ä‰∏™ËØçËØ≠ÊåâÈíÆ
            document.getElementById('next-word-btn').style.display = 'block';
        }
        
        function startTimer() {
            timeLeft = ROUND_TIME;
            document.getElementById('timer').textContent = `${timeLeft}Áßí`;
            
            if (timerInterval) clearInterval(timerInterval);
            
            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = `${timeLeft}Áßí`;
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    endRound(false);
                }
            }, 1000);
        }
        
        function endRound(success) {
            gameState = GAME_STATES.ROUND_END;
            clearInterval(timerInterval);
            
            if (success) {
                document.getElementById('game-status').textContent = 'ÁåúËØçÊàêÂäüÔºÅ';
                guessedWords++;
                document.getElementById('guessed-words').textContent = guessedWords;
                
                // Êõ¥Êñ∞ÊúÄ‰Ω≥Êó∂Èó¥
                const timeUsed = ROUND_TIME - timeLeft;
                if (!bestTime || timeUsed < bestTime) {
                    bestTime = timeUsed;
                    document.getElementById('best-time').textContent = `${bestTime}Áßí`;
                }
            } else {
                document.getElementById('game-status').textContent = 'Êó∂Èó¥Âà∞ÔºÅ';
            }
            
            // ÊòæÁ§∫Ê≠£Á°ÆÁ≠îÊ°à
            document.getElementById('word-display').textContent = currentWord.split('').join(' ');
        }
        
        function resetGame() {
            clearCanvas();
            clearInterval(timerInterval);
            gameState = GAME_STATES.WAITING;
            document.getElementById('game-status').textContent = 'ÁÇπÂáª"ÂºÄÂßãÊ∏∏Êàè"ÈÄâÊã©ËØçËØ≠';
            document.getElementById('word-display').textContent = '_ _ _ _';
            document.getElementById('timer').textContent = '60Áßí';
            document.getElementById('word-panel').style.display = 'none';
            document.getElementById('next-word-btn').style.display = 'none';
            
            // ÈáçÁΩÆÊ∏∏ÊàèÁªüËÆ°
            roundCounter = 1;
            guessedWords = 0;
            document.getElementById('round-counter').textContent = roundCounter;
            document.getElementById('guessed-words').textContent = guessedWords;
            document.getElementById('best-time').textContent = '--';
        }
        
        function showAnswer() {
            if (currentWord) {
                document.getElementById('word-display').textContent = currentWord.split('').join(' ');
                clearInterval(timerInterval);
                gameState = GAME_STATES.ROUND_END;
                document.getElementById('game-status').textContent = 'Â∑≤ÊòæÁ§∫Á≠îÊ°à';
            }
        }
        
        function nextWord() {
            if (gameState !== GAME_STATES.ROUND_END) return;
            
            roundCounter++;
            document.getElementById('round-counter').textContent = roundCounter;
            
            // ÂáÜÂ§á‰∏ã‰∏Ä‰∏™ËØçËØ≠
            clearCanvas();
            gameState = GAME_STATES.CHOOSING;
            document.getElementById('word-display').textContent = '_ _ _ _';
            document.getElementById('timer').textContent = '60Áßí';
            document.getElementById('game-status').textContent = 'ËØ∑ÈÄâÊã©‰∏ã‰∏Ä‰∏™ËØçËØ≠';
            
            // ÊòæÁ§∫ÈÄâËØçÈù¢Êùø
            showWordChoices();
        }
    </script>
</body>
</html>
